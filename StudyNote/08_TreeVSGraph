# Tree vs Graph（樹 vs 圖）

## 結構屬性比較

| 特性 | Tree | Graph |
|------|------|-------|
| 節點關係 | 階層式、一對多 | 一般網路式，多對多 |
| 是否有環 | 不允許 | 允許（可有環或無環） |
| 根節點 | 有唯一根 | 一般沒有根的概念 |
| 連通性 | 必須整體連通 | 可以有多個連通分量 |
| 邊數限制 | 對 n 個節點，邊為 n-1 | 邊數可從 0 到 (n(n-1)/2) 或更多（有向、多重） |

樹可以視為一種「**特殊的無向圖**」：

- 連通
- 無環
- 邊數 = 節點數 − 1

## 概念差異

- Tree 強調「**層級與父子關係**」
  - 適合表達階層式資料（檔案系統、組織圖、DOM）
- Graph 強調「**一般連結關係**」
  - 適合表達複雜網絡（社交網絡、交通網路、推薦系統）

## 實務場景對比

- **檔案系統**：
  - 用 Tree 表示目錄層級（每個資料夾一個父，無環）
- **社交網絡**：
  - 用 Graph 表示朋友關係（可以形成三角關係、多重連結）
- **公司組織圖**：
  - 用 Tree 表示主管與下屬關係
- **路線 / 地圖**：
  - 用 Graph 表示道路連接情況

## 演算法面差異

- Tree：
  - 可用 DFS/遞迴做前序、中序、後序、層序遍歷
  - 很多問題可以利用子樹性質做 DP on Tree
- Graph：
  - 需要 BFS / DFS 來尋找連通分量、偵測環
  - 可用最短路、最小生成樹等演算法解決路徑與成本問題

## 何時用 Tree / 何時用 Graph

- 用 **Tree** 如果：
  - 資料有明顯的「從上到下」關係
  - 每個節點最多有一個父節點
  - 不允許存在環
- 用 **Graph** 如果：
  - 任何兩個節點間都可能彼此連結
  - 關係是多對多
  - 需要路徑、連通性或網絡結構分析

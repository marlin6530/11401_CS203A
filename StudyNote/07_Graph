# Graph（圖）

## 定義

Graph 由一組**頂點（Vertex）**與一組**邊（Edge）**組成，用來描述物件之間的關係。  
可以是有向（directed）或無向（undirected），也可以加上權重（weighted）。

## 類型

- 有向圖（Directed Graph）：邊有方向，例如 A→B
- 無向圖（Undirected Graph）：邊無方向，例如 A—B
- 加權圖（Weighted Graph）：邊具有權重（距離、成本）
- 簡單圖、多重圖、帶自環圖等變種

## 表示方法

- **鄰接矩陣（Adjacency Matrix）**
  - 用二維矩陣存邊存在與否（或權重）
  - 空間：(O(V^2))
  - 適合頂點數不大且圖比較密集

- **鄰接表（Adjacency List）**
  - 每個頂點存放鄰居列表
  - 空間：(O(V + E))
  - 適合稀疏圖，實務中最常用

## 基本演算法

- **BFS（廣度優先搜尋）**
  - 使用佇列
  - 可以用來找「無權最短路徑」和層級資訊
  - 時間：(O(V + E))

- **DFS（深度優先搜尋）**
  - 可以遞迴或用堆疊實作
  - 可用來找連通分量、檢測是否有環
  - 時間：(O(V + E))

- **Dijkstra 最短路徑演算法**
  - 適用於邊權重為非負的有向 / 無向圖
  - 利用優先佇列，加速尋找起點到各點最短路
  - 時間：常見實作為 (O((V + E)log V))

## 實際應用

- **社交網絡**：頂點為使用者，邊為朋友關係或追蹤關係
- **路線規劃 / 地圖**：頂點為地點，邊為道路，權重為距離或時間
- **網頁與超連結**：頂點是網頁，邊是超連結（有向圖）
- **任務排程**：任務之間的先後依賴，可用有向無環圖（DAG）表示
- **推薦系統**：用戶與物品的關係，可視為二分圖或一般圖

## 優點

- 可以表達非常一般的「關係型」資料
- 支援各種搜尋與最佳化演算法（BFS、DFS、最短路、最小生成樹等）
- 在網路、圖形、AI、演算法題中應用非常廣

## 缺點

- 表示方式和演算法實作較複雜
- 可能需要較多記憶體（尤其是矩陣表示）
- 需要注意是否存在環、是否連通等性質

## 何時使用 Graph

- 問題本質是「點與點之間的連接」
  - 路線、朋友、相依性、網頁連結
- 需要找「**最短路徑**」、「是否連通」、「有沒有環」等
